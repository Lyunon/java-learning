# 참조 타입과 참조 변수
자바의 타입은 크게 기본 타입과 참조 타입으로 분류된다.

참조 타입이란 객체의 번지를 참조하는 타입으로 배열, 열거, 클래스, 인터페이스를 말한다.

## 기본 타입과 참조 타입
기본 타입으로 선언된 변수와 참조 타입으로 선언된 변수의 차이점은 저장되는 값이다.

기본 타입인 byte, char, short, int, long, flaot, double, boolean 변수는 실제 값을 변수 안에 저장하지만, 참조 타입인 배열, 열거, 클래스, 인터페이스 변수는 메모리의 번지를 변수 안에 저장한다.

**번지**를 통해 객체를 참조한다는 듯에서 **참조 타입**이라고 부른다.

## 메모리 사용 영역
### 메소드 영역
JVM이 시작할 때 생성되고 모든 스레드가 공유하는 영역이다.

메소드 영역에는 코드에서 사용되는 클래스들을 클래스 로더로 읽어 클래스별로 정적 필드와 상수, 메소드 코드, 생성자 코드 등을 분류해서 저장한다.

### 힙 영역
객체와 배열이 생성되는 영역이다.

여기에 생성된 객체와 배열은 JVM 스택 영역의 변수나 다른 객체의 필드에서 참조한다. 만약 ㅊ마조하는 변수나 필드가 없다면 의미 없는 객체가 되기 때문에 JVM이 이것을 쓰레기로 취급하고 쓰레기 수집기를 실행시켜 자동으로 제거한다.

따라서 개발자는 객체를 제거하기 위해 별도의 코드를 작성할 필요가 없으며, 자바는 코드로 객체를 직접 제거하는 방법을 제공하지 않는다.

### JVM 스택 영역
JVM 스택은 메소드를 호출할 때마다 프레임을 추가하고 메소드가 종료되면 해당 프레임을 제거하는 동작을 수행한다.

프레임 내부에는 로컬 변수 스택이 있는데, 기본 타입 변수와 참조 타입 변수가 추가되거나 제거된다.

스택 영역에 변수가 생성되는 시점은 초기화가 될 때, 즉 최초로 변수에 값이 저장될 때이다. 변수는 선언된 블록 안에서만 스택에 존재하고 블록을 벗어나면 스택에서 제거된다.

기본 타입 변수는 스택 영역에 직접 값을 가지고 있지만, 참조 타입 변수는 스택 영역에 힙 영역의 객체 주소를 가진다.

## 참조 변수의 ==, != 연산
기본 타입의 변수는 ==, != 연산은 변수의 값이 같은지, 아닌지를 조사하지만 참조 타입 변수들 간의 ==, != 연산은 동일한 객체를 참조하는지, 다른 객체를 참조하는지 알아볼 때 사용된다.

참조 타입 변수의 값은 힙 영여의 객체 주소이므로 ==, != 연산은 결국 번지 값을 비교하는 것이 된다. 동일한 번지 값을 갖고 있다는 것은 **동일한 객체**를 참조한다는 의미이다.

동일한 객체를 참조하고 있을 경우 == 연산의 결과는 true이고 != 연산의 결과는 false이다.

## null과 NullPointerException
참조 타입 변수는 힙 영역의 객체를 참조하지 않는다는 뜻으로 null 값을 가질 수 있다. null 값도 초기값으로 사용할 수 있기 때문에 null로 초기화된 참조 변수는 스택 영역에 생성된다.

자바는 프로그램 실행 도중에 발생하는 오류를 **예외**라고 부른다. 예외는 사용자의 잘못된 입력으로 발생할 수도 있고, 프로그래머가 코드를 잘못 작성해서 발생할 수도 있다.

참조 변수를 사용하면서 가장 많이 발생하는 예외 중 하나로 NullPointerException이 있다. 이 예외는 참조 타입 변수를 잘못 사용하면 발생한다.

